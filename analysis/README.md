# Аналіз даних spending.gov.ua

Транзакції, що надаються [порталом використання публічних коштів](http://e-data.gov.ua/) мають наступні поля:

| Ідентифікатор     | Назва                 |
| :---------------- | :-------------------- |
| trns_id           | № трансакції          |
| doc_datd          | складання             |
| msrprd_date       | оплата                |
| doc_nazn          | призначення платежу   |
| doc_sq            | сума                  |
| payer_nm          | платник               |
| payer_edrpou      | код ЄДРПОУ платника   |
| payer_mfo_knw_id  | МФО банку платника    |
| payer_mfo_nm      | Банк платника         |
| recipt_nm         | одержувач             |
| recipt_edrpou     | код ЄДРПОУ одержувача |
| recipt_mfo_knw_id | МФО банку одержувача  |
| recipt_mfo_nm     | Банк одержувача       |

## Засоби аналізу

Для аналізу використовуймо мову R:

```
library(plyr)
library(dplyr)

transactions <- read.csv('transactions.csv')
```

## Назви та МФО банків

Транзакції, що надаються - це виключно платежі  Державної казначейської служби та їх філіалів.
Тобто, це усі ті трансакції, де банк платнику - ДКСУ:

```R
payer_mfos <- subset(transactions, select=c("payer_mfo_knw_id", "payer_mfo_nm"))
levels(payer_mfos[,2])
 [1] ""                                    "ГУДКСУ в Iвано-Франкiвськiй області"
 [3] "ГУДКСУ в Одеській області"           "ГУДКСУ у Вінницькій області"        
 [5] "ГУДКСУ у Волинській області"         "ГУДКСУ у Дніпропетровській області" 
 [7] "ГУДКСУ у Донецькiй областi"          "ГУДКСУ у Житомирській області"      
 [9] "ГУДКСУ у Закарпатській областi"      "ГУДКСУ у Запорiзькiй областi"       
[11] "ГУДКСУ у Київській області"          "ГУДКСУ у Кіровоградській області"   
[13] "ГУДКСУ у Луганській області"         "ГУДКСУ у Львiвськiй областi"        
[15] "ГУДКСУ у Миколаївськiй областi"      "ГУДКСУ у м.Києві"                   
[17] "ГУДКСУ у Полтавській областi"        "ГУДКСУ у Рiвненськiй областi"       
[19] "ГУДКСУ у Сумській області"           "ГУДКСУ у Тернопільській областi"    
[21] "ГУДКСУ у Харківській області"        "ГУДКСУ у Херсонській області"       
[23] "ГУДКСУ у Хмельницькiй областi"       "ГУДКСУ у Черкаськiй областi"        
[25] "ГУДКСУ у Чернiвецькiй областi"       "ГУДКСУ у Чернігівській областi"     
[27] "ДКСУ"                               
```

Банки одержувачів найрізноманітніші:

```R
recipt_mfos <- subset(transactions, select=c("recipt_mfo_knw_id", "recipt_mfo_nm"))
levels(recipt_mfos[,2])
  [1] ""                                          
  [2] "Test Bank"                                 
  [3] "АБ \"КРЕДИТ-ДНІПРО\",Дніпропетровськ    "  
  [4] "АБ \"МЕТАЛУРГ\", М.ЗАПОРІЖЖЯ            "  
  [5] "АБ \"ПОЛТАВА-БАНК\" М.ПОЛТАВА           "  
  [6] "АКБ \"ІНДУСТРІАЛБАНК\" М.ЗАПОРІЖЖЯ      "  
  [7] "АКБ \"ІНТЕГРАЛ\", М.КИЇВ                "  
  [8] "АКБ \"МРІЯ\"                            "  
...
[207] "ХМ.ОУ ВАТ\"Д.ОЩАД.Б.У\" У М.ХМЕЛЬНИЦЬКИЙ"  
[208] "ХМ.Ф.ЗАТ КБ\"ПРИВАТБАНК\" М.ХМЕЛЬНИЦЬКИЙ"  
[209] "ХОД АППБ \"АВАЛЬ\" М.ХАРКІВ             "  
[210] "ЧЕРКАС.ОБЛ.ДИР.АППБ\"АВАЛЬ\", М.ЧЕРКАСИ "  
[211] "ЧЕРК.Ф.ГРУ ЗАТ КБ ПРИВАТБАНК М.ЧЕРКАСИ"    
[212] "ЧЕРНІВЕЦЬКА ФІЛІЯ ЗАТ КБ \"ПРИВАТБАНК\" "  
[213] "ЧЕРНІГІВ ОБЛУПР-Я ВАТ \"ДЕРЖ.ОЩАДБАHК\" "  
[214] "ЧЕРНІГІВСЬКА ОБЛАСНА ДИР. АППБ \"АВАЛЬ\"" 
```

Якщо прискіпливо подивитись, то можна помітити, що деякі дані не є валідними: подекуди не вказано банк чи вказано "Test Bank".

Якщо банк платника не вказано, то усі такі платежі мають подібне призначення:

    *;242;xxxx;Перераховано до бюджету коштів з рахунку в СЕА декларація з ПДВ xxxx від 17.08.xxxx;1D8B6F63FEC904D2ExxxxAxxxx

СЕА - система електронного адміністрування податку на додану вартість. Для адміністрування ПДВ в Казначействі відкривається рахунок платника ПДВ. Тому в таких випадках банком можна вважати ДКСУ. МФО, що вказується у таких випадках: [899998](http://tr.sfs.gov.ua/anonsi-ark/8633.html).

Якщо не вказано банк одержувача, то можуть бути такі причини:

* Це перерахування платника ПДВ на власний рахунок СЕА
* Одержувачем є банк
* Інші (поки що не відомі причини)
